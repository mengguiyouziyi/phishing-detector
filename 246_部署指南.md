# ğŸš€ é’“é±¼ç½‘ç«™æ£€æµ‹å™¨ - 246æœåŠ¡å™¨éƒ¨ç½²æŒ‡å—

## ğŸ“‹ æ¦‚è¿°

é’“é±¼ç½‘ç«™æ£€æµ‹å™¨å·²ç»å®Œæˆå¼€å‘ï¼ŒåŒ…å«å®Œæ•´çš„Webç•Œé¢ã€æœºå™¨å­¦ä¹ æ¨¡å‹å’Œè®­ç»ƒæ¡†æ¶ã€‚ç°åœ¨éœ€è¦éƒ¨ç½²åˆ°æ‚¨çš„246æœåŠ¡å™¨ï¼ˆ192.168.1.246ï¼‰ä¸Šï¼Œè¯¥æœåŠ¡å™¨é…å¤‡2å¼ RTX 4090æ˜¾å¡ã€‚

## ğŸ¯ ç³»ç»Ÿç‰¹æ€§

### âœ… å·²å®ŒæˆåŠŸèƒ½
- **Webç•Œé¢**: ç°ä»£åŒ–çš„é’“é±¼ç½‘ç«™æ£€æµ‹ç•Œé¢
- **APIæœåŠ¡**: RESTful APIæ”¯æŒç¨‹åºåŒ–è®¿é—®
- **æœºå™¨å­¦ä¹ **: å®Œæ•´çš„è®­ç»ƒå’Œæ¨ç†æµç¨‹
- **4090ä¼˜åŒ–**: é’ˆå¯¹RTX 4090æ˜¾å¡çš„æ·±åº¦ä¼˜åŒ–
- **å¤šGPUæ”¯æŒ**: æ”¯æŒ2å¼ 4090å¹¶è¡Œè®­ç»ƒ
- **æ•°æ®å¤„ç†**: è‡ªåŠ¨åŒ–æ•°æ®æ”¶é›†å’Œç‰¹å¾æå–
- **æ¨¡å‹è¯„ä¼°**: å®Œæ•´çš„æ€§èƒ½è¯„ä¼°å’Œå¯è§†åŒ–

### ğŸš€ æ€§èƒ½ç‰¹æ€§
- **æ··åˆç²¾åº¦è®­ç»ƒ**: FP16åŠ é€Ÿï¼Œæå‡è®­ç»ƒé€Ÿåº¦
- **å¤šæ¨¡æ€èåˆ**: URLã€HTMLã€SSLç‰¹å¾ç»¼åˆåˆ†æ
- **æ³¨æ„åŠ›æœºåˆ¶**: æå‡æ¨¡å‹å‡†ç¡®æ€§
- **å†…å­˜ä¼˜åŒ–**: é«˜æ•ˆçš„GPUå†…å­˜ç®¡ç†
- **å¹¶è¡Œè®¡ç®—**: å¤šè¿›ç¨‹æ•°æ®åŠ è½½

## ğŸ“¦ éƒ¨ç½²åŒ…ä¿¡æ¯

**éƒ¨ç½²åŒ…è·¯å¾„**: `/tmp/phishing_detector_246.tar.gz`
**å¤§å°**: ~20KBï¼ˆä¸å«æ¨¡å‹å’Œæ•°æ®ï¼‰

## ğŸ”§ éƒ¨ç½²æ­¥éª¤

### ç¬¬ä¸€æ­¥ï¼šä¸Šä¼ éƒ¨ç½²åŒ…åˆ°246æœåŠ¡å™¨

ç”±äºSSHå¯†é’¥é—®é¢˜ï¼Œå»ºè®®æ‰‹åŠ¨ä¸Šä¼ ï¼š

```bash
# åœ¨æœ¬åœ°æ‰§è¡Œ
scp /tmp/phishing_detector_246.tar.gz root@192.168.1.246:/tmp/
```

å¦‚æœSCPä¸è¡Œï¼Œå¯ä»¥ï¼š
1. ä½¿ç”¨Uç›˜æ‹·è´
2. ä½¿ç”¨å…¶ä»–æ–‡ä»¶ä¼ è¾“å·¥å…·
3. æˆ–è€…æ‰‹åŠ¨å¤åˆ¶æ–‡ä»¶

### ç¬¬äºŒæ­¥ï¼šè¿æ¥åˆ°246æœåŠ¡å™¨

```bash
ssh root@192.168.1.246
å¯†ç : 3646287
```

### ç¬¬ä¸‰æ­¥ï¼šå®‰è£…ç³»ç»Ÿä¾èµ–

```bash
# æ›´æ–°ç³»ç»Ÿ
apt update
apt install -y python3-pip python3-dev python3-venv mysql-server libmysqlclient-dev git wget

# å¯åŠ¨MySQL
systemctl start mysql
systemctl enable mysql

# åˆ›å»ºæ•°æ®åº“
mysql -e "CREATE DATABASE IF NOT EXISTS phishing_detector CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;"
```

### ç¬¬å››æ­¥ï¼šå®‰è£…CUDAå’ŒPyTorch

```bash
# å®‰è£…CUDA 12.1
wget https://developer.download.nvidia.com/compute/cuda/repos/ubuntu2204/x86_64/cuda-keyring_1.1-1_all.deb
dpkg -i cuda-keyring_1.1-1_all.deb
apt-get update
apt-get -y install cuda-toolkit-12-1

# éªŒè¯CUDAå®‰è£…
nvidia-smi
nvcc --version
```

### ç¬¬äº”æ­¥ï¼šè§£å‹éƒ¨ç½²åŒ…

```bash
# åˆ›å»ºç›®å½•
mkdir -p /opt/phishing-detector
cd /opt/phishing-detector

# è§£å‹éƒ¨ç½²åŒ…
tar -xzf /tmp/phishing_detector_246.tar.gz --strip-components=1

# æŸ¥çœ‹æ–‡ä»¶
ls -la
```

### ç¬¬å…­æ­¥ï¼šåˆ›å»ºè™šæ‹Ÿç¯å¢ƒå¹¶å®‰è£…ä¾èµ–

```bash
# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python3 -m venv venv
source venv/bin/activate

# å‡çº§pip
pip install --upgrade pip

# å®‰è£…PyTorchï¼ˆæ”¯æŒCUDA 12.1ï¼‰
pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu121

# å®‰è£…å…¶ä»–ä¾èµ–
pip install -r requirements.txt
```

### ç¬¬ä¸ƒæ­¥ï¼šéªŒè¯GPUæ”¯æŒ

```bash
# æ£€æŸ¥GPUçŠ¶æ€
nvidia-smi

# éªŒè¯PyTorch GPUæ”¯æŒ
python3 -c "
import torch
print(f'PyTorchç‰ˆæœ¬: {torch.__version__}')
print(f'GPUæ•°é‡: {torch.cuda.device_count()}')
for i in range(torch.cuda.device_count()):
    print(f'GPU {i}: {torch.cuda.get_device_name(i)}')
    print(f'æ˜¾å­˜: {torch.cuda.get_device_properties(i).total_memory / 1e9:.1f} GB')
"
```

### ç¬¬å…«æ­¥ï¼šå¯åŠ¨Webåº”ç”¨

```bash
# æ–¹æ³•1ï¼šç›´æ¥è¿è¡Œ
python3 simple_app.py &

# æ–¹æ³•2ï¼šä½¿ç”¨å¯åŠ¨è„šæœ¬
chmod +x start.sh
./start.sh

# æ£€æŸ¥åº”ç”¨çŠ¶æ€
ps aux | grep simple_app
tail -f web_app.log
```

### ç¬¬ä¹æ­¥ï¼šåˆ›å»ºç³»ç»ŸæœåŠ¡ï¼ˆæ¨èï¼‰

```bash
# åˆ›å»ºsystemdæœåŠ¡
cat > /etc/systemd/system/phishing-detector.service << 'EOF'
[Unit]
Description=Phishing Detector Web Application
After=network.target mysql.service

[Service]
Type=simple
User=root
WorkingDirectory=/opt/phishing-detector
Environment=PATH=/opt/phishing-detector/venv/bin
ExecStart=/opt/phishing-detector/venv/bin/python simple_app.py
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target
EOF

# å¯åŠ¨æœåŠ¡
systemctl daemon-reload
systemctl enable phishing-detector
systemctl start phishing-detector
systemctl status phishing-detector
```

## ğŸ¯ è®­ç»ƒæ¨¡å‹

### å‡†å¤‡è®­ç»ƒç¯å¢ƒ

```bash
# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
source venv/bin/activate

# æ£€æŸ¥GPUçŠ¶æ€
nvidia-smi
```

### å¼€å§‹è®­ç»ƒ

```bash
# æ–¹æ³•1ï¼šä½¿ç”¨è®­ç»ƒè„šæœ¬
chmod +x train.sh
./train.sh

# æ–¹æ³•2ï¼šæ‰‹åŠ¨è®­ç»ƒ
python3 data_collection.py          # æ”¶é›†æ•°æ®
python3 train_model.py \           # è®­ç»ƒæ¨¡å‹
    --data phishing_dataset.csv \
    --batch_size 128 \
    --epochs 100 \
    --lr 0.001 \
    --save_model best_model.pth

# æ–¹æ³•3ï¼šå®Œæ•´è®­ç»ƒæµç¨‹
python3 start_training.py
```

### ç›‘æ§è®­ç»ƒ

```bash
# æŸ¥çœ‹è®­ç»ƒæ—¥å¿—
tail -f training.log

# ç›‘æ§GPUä½¿ç”¨
watch -n 1 nvidia-smi

# æŸ¥çœ‹ç³»ç»Ÿèµ„æº
htop
```

## ğŸŒ è®¿é—®åº”ç”¨

éƒ¨ç½²å®Œæˆåï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹åœ°å€è®¿é—®ï¼š

- **Webç•Œé¢**: http://192.168.1.246:5000
- **APIå¥åº·æ£€æŸ¥**: http://192.168.1.246:5000/api/health
- **æ£€æµ‹API**: http://192.168.1.246:5000/api/detect

## ğŸ“Š æ¨¡å‹æ€§èƒ½

### é¢„æœŸæ€§èƒ½æŒ‡æ ‡
- **å‡†ç¡®ç‡**: >95%
- **ç²¾ç¡®ç‡**: >94%
- **å¬å›ç‡**: >93%
- **F1åˆ†æ•°**: >94%
- **ROC AUC**: >0.98

### 4090æ˜¾å¡ä¼˜åŠ¿
- **è®­ç»ƒé€Ÿåº¦**: ç›¸æ¯”CPUæå‡50-100å€
- **æ‰¹å¤„ç†å¤§å°**: æ”¯æŒæ›´å¤§çš„batch size
- **æ··åˆç²¾åº¦**: FP16è®­ç»ƒï¼Œå†…å­˜å ç”¨å‡åŠ
- **å¤šGPUå¹¶è¡Œ**: 2å¼ 4090åŒæ—¶è®­ç»ƒ

## ğŸ”§ ç®¡ç†å‘½ä»¤

### æœåŠ¡ç®¡ç†
```bash
# å¯åŠ¨æœåŠ¡
systemctl start phishing-detector

# åœæ­¢æœåŠ¡
systemctl stop phishing-detector

# é‡å¯æœåŠ¡
systemctl restart phishing-detector

# æŸ¥çœ‹çŠ¶æ€
systemctl status phishing-detector

# æŸ¥çœ‹æ—¥å¿—
journalctl -u phishing-detector -f
```

### è®­ç»ƒç®¡ç†
```bash
# æŸ¥çœ‹è®­ç»ƒè¿›ç¨‹
ps aux | grep python

# åœæ­¢è®­ç»ƒ
pkill -f train_model.py

# æ¸…ç†GPUå†…å­˜
nvidia-smi --gpu-reset -i 0
nvidia-smi --gpu-reset -i 1
```

## ğŸš¨ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **GPUæœªè¢«è¯†åˆ«**
   ```bash
   # æ£€æŸ¥CUDAå®‰è£…
   nvidia-smi
   nvcc --version

   # é‡æ–°å®‰è£…é©±åŠ¨
   apt install --reinstall nvidia-driver-535
   ```

2. **å†…å­˜ä¸è¶³**
   ```bash
   # å‡å°‘batch size
   python3 train_model.py --batch_size 64
   ```

3. **ç«¯å£è¢«å ç”¨**
   ```bash
   # æŸ¥çœ‹ç«¯å£å ç”¨
   netstat -tlnp | grep :5000

   # æ€æ­»å ç”¨è¿›ç¨‹
   kill -9 <PID>
   ```

4. **æ•°æ®åº“è¿æ¥å¤±è´¥**
   ```bash
   # æ£€æŸ¥MySQLçŠ¶æ€
   systemctl status mysql

   # é‡å¯MySQL
   systemctl restart mysql
   ```

## ğŸ“ˆ æ€§èƒ½ç›‘æ§

### GPUç›‘æ§
```bash
# å®æ—¶ç›‘æ§
watch -n 1 nvidia-smi

# è¯¦ç»†ç›‘æ§
nvidia-smi --query-gpu=utilization.gpu,utilization.memory,memory.used,memory.total --format=csv
```

### ç³»ç»Ÿç›‘æ§
```bash
# CPUå’Œå†…å­˜
htop

# ç£ç›˜ä½¿ç”¨
df -h

# ç½‘ç»œçŠ¶æ€
netstat -tlnp
```

## ğŸ‰ éƒ¨ç½²å®Œæˆ

æ­å–œï¼é’“é±¼ç½‘ç«™æ£€æµ‹å™¨å·²æˆåŠŸéƒ¨ç½²åˆ°246æœåŠ¡å™¨ã€‚ç°åœ¨æ‚¨å¯ä»¥ï¼š

1. âœ… **ä½¿ç”¨Webç•Œé¢**: http://192.168.1.246:5000
2. âœ… **è®­ç»ƒæ¨¡å‹**: åˆ©ç”¨2å¼ 4090æ˜¾å¡è¿›è¡Œé«˜æ•ˆè®­ç»ƒ
3. âœ… **APIè°ƒç”¨**: é€šè¿‡RESTful APIè¿›è¡Œç¨‹åºåŒ–æ£€æµ‹
4. âœ… **å®æ—¶ç›‘æ§**: ç›‘æ§è®­ç»ƒçŠ¶æ€å’Œç³»ç»Ÿæ€§èƒ½

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹ï¼š
- æ—¥å¿—æ–‡ä»¶ï¼š`/opt/phishing-detector/web_app.log`
- è®­ç»ƒæ—¥å¿—ï¼š`/opt/phishing-detector/training.log`
- ç³»ç»Ÿæ—¥å¿—ï¼š`journalctl -u phishing-detector`

---

**ğŸš€ éƒ¨ç½²åŒ…ä½ç½®**: `/tmp/phishing_detector_246.tar.gz`
**ğŸ“– è¯¦ç»†è¯´æ˜**: `MANUAL_DEPLOY_246.md`
**ğŸ¯ ç›®æ ‡æœåŠ¡å™¨**: 192.168.1.246 (2x RTX 4090)